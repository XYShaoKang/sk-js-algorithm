# 213.打家劫舍-ii

```ts
/*
 * @lc app=leetcode.cn id=213 lang=typescript
 *
 * [213] 打家劫舍 II
 */

// @lc code=start
function rob(nums: number[]): number {}
// @lc code=end
```

## 解法 1: DP 方程

```ts
function rob(nums: number[]): number {
  let [p1, cur1, p2, cur2] = [0, nums[0], 0, nums[1]]
  for (let i = 1; i < nums.length; i++) {
    if (i < nums.length - 1) {
      ;[cur1, p1] = [Math.max(cur1, p1 + nums[i]), cur1]
    }
    if (i > 1) {
      ;[cur2, p2] = [Math.max(cur2, p2 + nums[i]), cur2]
    }
  }
  return Math.max(cur1, cur2 ?? 0)
}
```

## Case

```ts
test.each([
  { input: { nums: [2, 3, 2] }, output: 3 },
  { input: { nums: [1, 2, 3, 1] }, output: 4 },
  { input: { nums: [0] }, output: 0 },
])('input: nums = $input.nums', ({ input: { nums }, output }) => {
  expect(rob(nums)).toBe(output)
})
```
