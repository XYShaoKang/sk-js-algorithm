# 51.n-皇后

```ts
/*
 * @lc app=leetcode.cn id=51 lang=typescript
 *
 * [51] N 皇后
 */

// @lc code=start
function solveNQueens(n: number): string[][] {}
// @lc code=end
```

## 解法 1: 回溯

```ts
function solveNQueens(n: number): string[][] {
  let res: string[][] = []

  const backtrack = (cols: number[] = [], row = 0) => {
    if (cols.length === n) {
      res.push(cols.map((i) => '.'.repeat(i) + 'Q' + '.'.repeat(n - i - 1)))
      return
    }

    for (let i = 0; i < n; i++) {
      if (
        !cols.some(
          (col, cRow) =>
            // 判断跟已有的皇后是否在同一列
            i === col ||
            // 判断跟已有的皇后是否在同一条斜线上
            i - row + cRow === col ||
            i + row - cRow === col,
        )
      ) {
        cols.push(i)

        backtrack(cols, row + 1)

        cols.pop()
      }
    }
  }
  backtrack()
  return res
}
```

https://leetcode.com/problems/n-queens/discuss/19840/Simple-JavaScript-solution-using-backtracking
